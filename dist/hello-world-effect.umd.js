(function(t,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("postprocessing"),require("three")):typeof define=="function"&&define.amd?define(["postprocessing","three"],r):(t=typeof globalThis<"u"?globalThis:t||self,t.HelloWorldEffect=r(t.postprocessing,t.three))})(this,function(t,r){"use strict";class i extends t.Effect{constructor({blendFunction:e=t.BlendFunction.NORMAL,weights:s=new r.Vector3(1,1,1)}={}){super("HelloWorldEffect",`
      uniform vec3 weights;
        
      void mainImage(const in vec4 inputColor, const in vec2 uv, out vec4 outputColor){
        outputColor = vec4(inputColor.rgb * weights, inputColor.a);      
      }
`,{blendFunction:e,uniforms:new Map([["weights",new r.Uniform(s)]])})}updateWeights(e,s,o){this.uniforms.get("weights").value.set(e,s,o)}}class c extends HTMLElement{static get observedAttributes(){return["red","green","blue"]}constructor(){super(),this.effects=[new i]}connectedCallback(){var e;if(super.connectedCallback&&super.connectedCallback(),((e=this.parentNode)==null?void 0:e.nodeName.toLowerCase())==="effect-composer"&&(this.effectComposer=this.parentNode),!this.effectComposer)throw new Error("<hello-world-effect> must be a child of an <effect-composer>.");this.updateWeights(),this.effectComposer.updateEffects()}disconnectedCallback(){var e;super.disconnectedCallback&&super.disconnectedCallback();for(const s of this.effects)s.dispose();(e=this.effectComposer)==null||e.updateEffects()}attributeChangedCallback(e,s,o){var n;this.updateWeights(),(n=this.effectComposer)==null||n.queueRender()}updateWeights(){let e=[];const s=["red","green","blue"];for(const o of s)if(!this.hasAttribute(o))e.push(1);else{const n=parseFloat(this.getAttribute(o));if(isNaN(n))throw new Error(`${o} must be a number`);e.push(Math.max(0,n))}this.effects[0].updateWeights(...e)}}return customElements.define("hello-world-effect",c),c});
//# sourceMappingURL=hello-world-effect.umd.js.map
